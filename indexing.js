// ЁЯФН ржзрж╛ржкрзЗ рзз: ржЗржорзЗржЗрж▓ ржлрж┐рж▓рзНржбрзЗрж░ ржЙржкрж░ ржЗржиржбрзЗржХрзНрж╕ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржХрзЛржб (ржПржЗ рж▓рж╛ржЗржи ржХржорзЗржирзНржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ)
db.getCollection("massive-data").createIndex({email:1})

// тЭМ ржзрж╛ржкрзЗ рзи: ржЗржорзЗржЗрж▓ ржлрж┐рж▓рзНржбрзЗрж░ ржЙржкрж░ ржерж╛ржХрж╛ ржЗржиржбрзЗржХрзНрж╕ржЯрж┐ ржбрж┐рж▓рж┐ржЯ/ржорзБржЫрзЗ ржлрзЗрж▓рж╛рж░ ржХржорж╛ржирзНржб
db.getCollection("massive-data").dropIndex({ email: 1 })

// ЁЯФН 'dolor' рж╢ржмрзНржжржЯрж┐ ржЖржЫрзЗ ржПржоржи ржбржХрзБржорзЗржирзНржЯржЧрзБрж▓рзЛ рж╕рж╛рж░рзНржЪ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ, ржпрж╛ text index-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржЦрзЛржБржЬрж╛ рж╣ржпрж╝
// ЁЯУД рж╢рзБржзрзБ 'about' ржлрж┐рж▓рзНржбржЯрж┐ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ (project ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ)

db.getCollection("massive-data").find(
    { $text: { $search: "dolor" } }  // ржЯрзЗржХрзНрж╕ржЯ ржЗржиржбрзЗржХрзНрж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ 'dolor' рж╢ржмрзНржж ржЦрзЛржБржЬрж╛
).project(
    { about: 1 }  // рж╢рзБржзрзБ 'about' ржлрж┐рж▓рзНржб ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ
)

// ЁЯУМ 'about' ржлрж┐рж▓рзНржбрзЗ text index рждрзИрж░рж┐ ржХрж░рж╛
db.getCollection("massive-data").createIndex({ about: "text" })
